# 语言程序的语法描述

## 重要概念(记忆)

- `∑`：一个有穷字母表字符集，其中每一个元素称为一个字符
- `∑`上的字 ( 也叫字符串 ) ：指由`∑`中的字符所构成的 一个有穷序列
- `ε`：不包含任何字符的序列称为空字
- `∑ *` ：表示`∑`上的所有字的全体，包含空字 `ε`

> 例如 : 设 ∑ ={a ， b} ，则：
>
> ```
> ∑* = {ε,a,b,aa,ab,ba,bb,aaa,...}
> ```

- `∑ *` 的子集 U 和 V 的连接（积）定义为：

$$
UV = \{\,\alpha\beta \mid \alpha \in U \;\&\; \beta \in V\}
$$

> 例如：
>
> ```
> U ＝ { a, aa }, V ＝ { b, bb }
> 则：UV= { ab, abb, aab, aabb}
> ```

- V 自身的 n 次积记为：

$$
V^n = \underbrace{V\,V\,\dots\,V}_{n\text{ 次}}
$$

- 规定

$$
V^0 = \{\epsilon\}
$$

- 令公式(4)称 `V*` 是 `V` 的闭包

$$
V^* = V^0 \cup V^1 \cup V^2 \cup V^3 \cup \dots
$$

- 记下面的式子，称 V +是 V 的正规闭包

$$
V^+ = V\,V^*
$$

> 例如：U ＝ { a, aa }，那么：
>
> ```
> U* = { ε, a, aa, aaa, aaaa, …}
> U+ = {    a, aa, aaa, aaaa, …}
> ```

- 文法：描述语言的语法结构的形式规则

> 比如：
>
> He gave me a book.
>
> ```
> < 句子 >  →  < 主语 >< 谓语 >< 间接宾语 >< 直接宾语 >
> < 主语 >  →  < 代词 >
> < 谓语 >  →  < 动词 >
> < 间接宾语 >  →  < 代词 >
> < 直接宾语 >  →  < 冠词 > < 名词 >
> < 代词 >  →  He
> < 代词 >  →  me
> < 名词 >  →  book
> < 冠词 >  →  a
> < 动词 >  →  gave
> ```
>
> 一步一步推导：
>
> ```
> < 句子 >  →  < 主语 >< 谓语 >< 间接宾语 >< 直接宾语 >
> < 句子 >  →  < 代词 >< 谓语 >< 间接宾语 >< 直接宾语 >
> < 句子 >  →  He < 谓语 >< 间接宾语 >< 直接宾语 >
> < 句子 >  →  He < 动词 >< 间接宾语 >< 直接宾语 >
> < 句子 >  →  He gave < 间接宾语 >< 直接宾语 >
> < 句子 >  →  He gave < 代词 >< 直接宾语 >
> < 句子 >  →  He gave me < 直接宾语 >
> < 句子 >  →  He gave me < 冠词 >< 名词 >
> < 句子 >  →  He gave me a < 名词 >
> < 句子 >  →  He gave me a book
> ```

- 一个上下文无关文法 G 是一个四元式，公式(7)：

  - `V_T` ：终结符集合 ( 非空 )

  - `V_N`：非终结符集合 ( 非空 ) ，且`V_T`  ∩ `V_N` = ∅

  - `S` ：文法的开始符号， S ∈ `V_N`

  - `P` ：产生式集合 ( 有限 ) ，每个产生式形式为公式（6）
    $$
    P \to \alpha,\quad P \in V_N,\quad \alpha \in (V_T \cup V_N)^*
    $$
  - 开始符 `S` 至少必须在某个产生式的左部出现一次

$$
G = (V_T, V_N, S, P)
$$

> 例如：
>
> 定义只含 + ， * 的算术表达式的文法：`G=< {i ， + ， * ， ( ， )} ， {E} ， E ， P>`，其中， P 由下列产生式组成：
>
> ```
> E → i 
> E → E+E 
> E → E*E 
> E → (E)
> ```
>
> “→” 也可以用“ ::=" 表示， 这种表示称为巴科斯范式 (BNF)

- 表示一个文法时，通常只给出开始符号和产生式。

> 如上例，可表示为：
>
> ```
> G(E) ： E → i | E+E | E*E | (E)
> ```

- 定义：称αAβ直接推出αγβ，即公式(9)：

  - 仅当 A→γ是一个产生式

  - 且公式(8)：
    $$
    \alpha,\;\beta \in (\,V_T \cup V_N\,)^*
    $$

$$
\alpha A \beta \;\;\Rightarrow\;\; \alpha \gamma \beta
$$

- 如果α1⇒ α2 ⇒ ... ⇒αn，则我们称这个序列是从α1到αn到一个推导。若存在一个从α1到αn的推导，则称α1可以推导出αn
- 对文法`G(E) → i | E+E | E*E | (E)`，有：`E ⇒ (E) ⇒ (E+E) ⇒ (i+E) ⇒ (i+i)`

- 通常
  - 用公式(10)表示从α1出发，经过一步或若干步，可以推出αn
  - 用公式(11)表示从α1出发，经过零步或若干步，可以推出αn

$$
\alpha_1 \;\overset{+}{\Rightarrow}\; \alpha_n
$$

$$
\alpha_1 \;\overset{*}{\Rightarrow}\; \alpha_n
$$

> 所以，α⇒β即：α=β或α =+=> β

- 定义：假定G是一个文法，S是它开始符号。如果S =*=>α，则称α是一个句型。仅仅含有终结符号的句型是一个句子。文法G所产生的 句子的全体是一个语言，将它记为：L(G)。

$$
L(G) = \{\,\alpha \mid S \;\overset{+}{\Rightarrow}\; \alpha,\;\alpha \in V_T^*\}
$$
